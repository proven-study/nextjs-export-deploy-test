(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[975],{409:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/change-password",function(){return t(6270)}])},6270:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(4928),n=t(220),i=t(7598),o=t(9008),l=t.n(o),c=t(1163),d=t(7536),u=t(6501),p=t(8767),m=t(7703);let w=()=>{var e,s;let t=(0,c.useRouter)(),{register:o,handleSubmit:w,formState:{errors:h}}=(0,d.cI)({mode:"onBlur"}),{mutate:x,isLoading:f}=(0,p.useMutation)(m.NG,{onSuccess(e){var s;(null==e?void 0:null===(s=e.message)||void 0===s?void 0:s.length)>0&&(u.Am.success(null==e?void 0:e.message,{position:"top-right"}),t.push("/profile"))},onError(e){var s,t;let a=(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||(null==e?void 0:e.message);e&&u.Am.error(a,{position:"top-right"})}}),v=e=>{if(e.password===e.password_confirmation){let s={password:e.password,password_confirmation:e.password_confirmation};x(s)}else u.Am.error("Password does not match",{position:"top-right"})};return(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Change Password Page"})}),(0,a.jsx)("div",{className:"py-16 bg-secondary-bg",children:(0,a.jsxs)("div",{className:"container px-4 mx-auto",children:[(0,a.jsx)("h3",{className:"mb-10 text-center",children:"Change Password"}),(0,a.jsx)("div",{className:"max-w-screen-md p-4 mx-auto bg-white md:p-8 rounded-2xl",children:(0,a.jsxs)("form",{onSubmit:w(v),children:[(0,a.jsxs)("div",{className:"mb-6 text-center",children:[(0,a.jsxs)("div",{className:"relative z-0",children:[(0,a.jsx)("picture",{children:(0,a.jsx)("img",{className:"w-full mt-[-21px]",src:"/img/frames/contact_input_box_white.png",alt:"frame"})}),(0,a.jsx)("div",{className:i.xk.inputImageWrapper,children:(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)("input",{placeholder:"password",type:"password",...o("password",{required:"password is required!",pattern:{value:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/,message:"please mantain minimum eight characters, at least one letter, one number and one special character:"}}),className:i.xk.inputText})})})]}),(null==h?void 0:h.password)&&(0,a.jsx)("p",{className:"pl-2 mt-[-18px] text-base text-left text-red-500",children:null==h?void 0:null===(e=h.password)||void 0===e?void 0:e.message})]}),(0,a.jsxs)("div",{className:"mb-6 text-center",children:[(0,a.jsxs)("div",{className:"relative z-0",children:[(0,a.jsx)("picture",{children:(0,a.jsx)("img",{className:"w-full mt-[-21px]",src:"/img/frames/contact_input_box_white.png",alt:"frame"})}),(0,a.jsx)("div",{className:i.xk.inputImageWrapper,children:(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)("input",{placeholder:"confirm password",type:"password",...o("password_confirmation",{required:"please add confirm password is required!",validate:(e,s)=>e===s.password||"password is  not matching."}),className:i.xk.inputText})})})]}),(null==h?void 0:h.password_confirmation)&&(0,a.jsx)("p",{className:"pl-2 mt-[-18px] text-base text-left text-red-500",children:null==h?void 0:null===(s=h.password_confirmation)||void 0===s?void 0:s.message})]}),(0,a.jsx)(r.Z,{className:"w-full",size:"sm",type:"submit",loading:f,disabled:f,children:"Change Password"})]})})]})})]})};s.default=w},7703:function(e,s,t){"use strict";t.d(s,{Ao:function(){return p},Hy:function(){return l},NG:function(){return c},S$:function(){return d},TW:function(){return o},gM:function(){return i},h1:function(){return u},jW:function(){return n}});var a=t(9361),r=t(5952);let n=async e=>{let{data:s}=await r.K.post("api/customer/auth/login",e);return s},i=async e=>{let{data:s}=await r.K.post("api/customer/auth/register",e);return s},o=async()=>{let{data:e}=await r.K.get("api/customer/profile",(0,a.wU)());return e.data.customer},l=async e=>{let{data:s}=await r.K.put("api/customer/edit-profile",e,(0,a.wU)());return s},c=async e=>{let{data:s}=await r.K.patch("api/customer/change-password",e,(0,a.wU)());return s},d=async e=>{let{data:s}=await r.K.post("api/customer/auth/forgot-password",e);return s},u=async e=>{let{data:s}=await r.K.post("api/customer/auth/reset-password",e);return s},p=async()=>{let{data:e}=await r.K.get("api/v1/get-order",(0,a.wU)());return e}},9008:function(e,s,t){e.exports=t(3121)}},function(e){e.O(0,[976,948,61,312,890,220,774,888,179],function(){return e(e.s=409)}),_N_E=e.O()}]);