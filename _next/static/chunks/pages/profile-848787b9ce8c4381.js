(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9813:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(6190)}])},6190:function(e,s,t){"use strict";t.r(s);var r=t(5893),a=t(4928),l=t(220),n=t(9008),i=t.n(n),c=t(1163),d=t(8767),o=t(7703),u=t(8982);let p=()=>{var e,s;let t=(0,c.useRouter)(),{data:n}=(0,d.useQuery)("api/customer/profile",o.TW),{data:p}=(0,d.useQuery)("api/v1/get-order",o.Ao),x=[];null==p||null===(e=p.data)||void 0===e||null===(s=e.orders)||void 0===s||s.forEach(e=>{var s;null===(s=e.order_details)||void 0===s||s.forEach(s=>{var t,r;x.push({id:e.order_no,product:null===(t=s.order_details_product)||void 0===t?void 0:t.name,date:null===(r=e.created_at)||void 0===r?void 0:r.split("T")[0],price:s.unit_price,qty:s.qty,status:e.status})})});let m=()=>{(0,u.pQ)(),t.replace("/")},h=["Pending","On Processs","Shipped","Deliverd","Canceled","Returned"];return(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"py-16 bg-secondary-bg",children:(0,r.jsx)("div",{className:"container px-4 mx-auto",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto ",children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Profile"})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,r.jsx)("h3",{children:"profile"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(a.Z,{size:"sm",className:"px-8 mr-4",onClick:()=>t.push("/profile/change-password"),children:"change password"}),(0,r.jsx)(a.Z,{size:"sm",className:"px-8",onClick:()=>t.push("/profile/edit-profile"),children:"edit profile"})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap mb-8 -mx-4",children:[(0,r.jsx)("div",{className:"w-full px-4 mb-4 md:w-1/3 md:mb-0",children:(0,r.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,r.jsx)("h4",{className:"mb-4",children:"user information"}),(0,r.jsx)("p",{children:"name"}),(0,r.jsx)("p",{className:"font-normal",children:(null==n?void 0:n.name)||"-"}),(0,r.jsx)("p",{className:"mt-4",children:"email"}),(0,r.jsx)("p",{className:"font-normal",children:(null==n?void 0:n.email)||"-"}),(0,r.jsx)("p",{className:"mt-4",children:"address"}),(0,r.jsxs)("p",{className:"font-normal",children:[(null==n?void 0:n.address1)||"-",(0,r.jsx)("br",{}),(null==n?void 0:n.address2)||"-"]}),(0,r.jsx)("p",{className:"mt-4",children:"phone"}),(0,r.jsx)("p",{className:"font-normal",children:(null==n?void 0:n.phone_no)||"-"}),(0,r.jsx)("div",{className:"flex justify-center w-full mt-4",children:(0,r.jsx)(a.Z,{className:"lowercase px-10 !h-14",onClick:m,children:"Logout"})})]})}),(0,r.jsx)("div",{className:"w-full px-4 md:w-2/3",children:(0,r.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow",children:[(0,r.jsx)("h4",{className:"mb-4",children:"Order History"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full table-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Order ID"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Product Name"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Order Date"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Quantity"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Price"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),(0,r.jsx)("tbody",{children:null==x?void 0:x.map((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-2 text-lg font-normal border",children:e.id}),(0,r.jsx)("td",{className:"px-4 py-2 text-lg font-normal border",children:e.product}),(0,r.jsx)("td",{className:"px-4 py-2 text-lg font-normal border",children:e.date}),(0,r.jsx)("td",{className:"px-4 py-2 text-lg font-normal border",children:e.qty}),(0,r.jsxs)("td",{className:"px-4 py-2 text-lg font-normal border",children:["$",Number(e.price).toFixed(2)]}),(0,r.jsx)("td",{className:"px-4 py-2 text-lg font-normal border",children:h[Number(e.status)-1]})]},"key-".concat(e.id,"-").concat(s)))})]})})]})})]})]})})})})};s.default=p},7703:function(e,s,t){"use strict";t.d(s,{Ao:function(){return p},Hy:function(){return c},NG:function(){return d},S$:function(){return o},TW:function(){return i},gM:function(){return n},h1:function(){return u},jW:function(){return l}});var r=t(9361),a=t(5952);let l=async e=>{let{data:s}=await a.K.post("api/customer/auth/login",e);return s},n=async e=>{let{data:s}=await a.K.post("api/customer/auth/register",e);return s},i=async()=>{let{data:e}=await a.K.get("api/customer/profile",(0,r.wU)());return e.data.customer},c=async e=>{let{data:s}=await a.K.put("api/customer/edit-profile",e,(0,r.wU)());return s},d=async e=>{let{data:s}=await a.K.patch("api/customer/change-password",e,(0,r.wU)());return s},o=async e=>{let{data:s}=await a.K.post("api/customer/auth/forgot-password",e);return s},u=async e=>{let{data:s}=await a.K.post("api/customer/auth/reset-password",e);return s},p=async()=>{let{data:e}=await a.K.get("api/v1/get-order",(0,r.wU)());return e}},9008:function(e,s,t){e.exports=t(3121)}},function(e){e.O(0,[976,948,61,312,890,220,774,888,179],function(){return e(e.s=9813)}),_N_E=e.O()}]);