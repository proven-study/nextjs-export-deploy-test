(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{8666:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/paypal/success",function(){return n(9737)}])},4928:function(e,t,n){"use strict";var s=n(5893),l=n(5675),i=n.n(l);let o=e=>{let{children:t,className:n,size:l="md",type:o="button",loading:r,disabled:c,...a}=e;return(0,s.jsxs)("button",{type:o,className:"button bg-secondary text-primary text-base md:text-2xl rounded-full flex items-center justify-center ".concat(n," size-").concat(l," ").concat(c||r?"disabled":""),...a,disabled:r||c,children:[r&&(0,s.jsx)(i(),{src:"/img/spinner.gif",alt:"spinner",height:32,width:32}),t]})};t.Z=o},9737:function(e,t,n){"use strict";n.r(t);var s=n(5893),l=n(7294),i=n(1163),o=n(1548),r=n(5598),c=n(8767),a=n(6501),u=n(4928),d=n(1664),p=n.n(d);let f=()=>{let e=(0,i.useRouter)(),[t,n]=(0,l.useState)(!0),{resetCart:d}=(0,o.i)(),{mutate:f}=(0,c.useMutation)(r.J2,{onSuccess(){a.Am.success("Order placed successfully!!",{position:"top-right"}),d(),n(!1)},onError(e){e&&(a.Am.error(null==e?void 0:e.message,{position:"top-right"}),n(!1))}});return(0,l.useEffect)(()=>{var t,s;let{query:l}=e,i=null===(t=null===(s=window.location.href)||void 0===s?void 0:s.split("?")[1])||void 0===t?void 0:t.split("&"),o={};for(let r=0;r<i.length;r+=2)o[i[r]]=i[r+1];let c=(null==l?void 0:l.paymentId)||(null==o?void 0:o.paymentId)||"",a=(null==l?void 0:l.PayerID)||(null==o?void 0:o.PayerID)||"",u=(null==l?void 0:l.token)||(null==o?void 0:o.token)||"";if(c&&a&&u){let d=async()=>{n(!0);let e=JSON.parse(window.localStorage.getItem("paypalOrderPlaceItems"));if(e){let t={...e,payment_method:"paypal",payment_id:c,payer_id:a,payment_token:u};f(t)}};d()}},[f,e]),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-screen",children:t?(0,s.jsx)("p",{children:"Payment processing..."}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"mb-4 text-2xl font-bold",children:"Payment by Paypal is Success"}),(0,s.jsx)("p",{className:"mb-4 text-lg",children:"Thank you for your order"}),(0,s.jsx)(p(),{href:"/",className:"w-full",children:(0,s.jsx)(u.Z,{className:"lowercase px-10 !h-14",children:"Go back to home page"})})]})})};t.default=f},1163:function(e,t,n){e.exports=n(880)}},function(e){e.O(0,[61,774,888,179],function(){return e(e.s=8666)}),_N_E=e.O()}]);